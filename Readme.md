# rebuild A working MIXT framework #

在早先的TS里，有一个非常大的产品分支，是流媒体分支，商业名字叫：trafficserver-mixt，这个产品主要解决类似real mms qt等以rtsp为主的流媒体协议cache、proxy、多播等，当然，这些功能、产品都已经没法再看到了，ATS在开源过程中，已经彻底把相关的协议实现、产品封装等资料和代码都删除掉了。幸运的是，核心的cache以及一下层面的API等，目前仍还可以继续使用。这个项目的主要目的，就是在现有条件下，重建ATS的流媒体支持体系。


当前的主要流媒体方式为rtsp和rtmp，这两个协议已经成为业界标准，而原先的real mms qt等协议，业已没有了市场，因此我们的主要目标，是建立一个能够支持rtmp rtsp协议的基础框架，让这两个协议能够以插件的方式存在：

### RTSP ###

### RTMP ###


## 所谓的 framework ##

Framework也是一个很大的话题，这个framework到底支持什么呢？下面是我的一些思考：

* framework应该提炼抽象出这些流媒体协议的相似处，并能够在核心层面开放出合适的API
* 需要对流媒体的配置等进行一定的抽象，并在核心层面予以支持
* 是可以有利于扩展的平台，如支持认证、计费等

## 如何实现？ ##

1. 首先应该实现mixt API的扩展机制
2. 注册主要的mixt API

## 问题与纠结 ##

* 以流媒体为目标的插件，多应该是protocal插件，需要监听独立的端口，起不同的协议等，对监听端口的处理应与核心保持一致，而这点目前还没有很好的解决方案，Phil正在提出一个可能的解决方案，尝试所有的监听端口由manager统一管理，但是目前插件如何与manager通信是一个需要解决的问题。

* 谁会用这些插件呢？？？